<tr align='right' bgcolor="$GetVar(HtmlTableFirstcolColour)">
  <td valign='top' width="$GetVar(HtmlTableFirstcolWidth)" align='center' bgcolor="$GetVar(HtmlTableFirstcolColour)">
    $spy.MakeHoverButton('btn-info@#image#scope',"spy.make_help_box -name='#image' -popout='False' -helpTxt='#image'")
  </td>
  <td colspan="1">
    $spy.MakeHoverButtonOn('#image','html.ItemState #parent_name 1 2')
  </td>
</tr>
<!-- #ignoreif not spy.GetParam('snum.NoSpherA2.Calculate') -->
<tr ALIGN='left' NAME='SNUM_REFINEMENT_NSFF' width='100%'>
  <td valign='top' width="$GetVar(HtmlTableFirstcolWidth)" align='center' bgcolor="$GetVar(HtmlTableFirstcolColour)">
    $spy.MakeHoverButton('btn-info@NoSpherA2_Quick_Buttons#scope',"spy.make_help_box -name='NoSpherA2_Quick_Buttons' -popout='False' -helpTxt='#helpTxt'")
  </td>
  <td colspan="#colspan">
    <table border="0" width="100%" cellpadding="0" cellspacing="0" Xbgcolor="#ffaaaa">
      <tr Xbgcolor="#ffffaa">
        <td width='100%' align='left'>
          <table width='100%'cellpadding="0" cellspacing="2">
            <tr bgcolor="$GetVar(HtmlTableGroupBgColour)">
              <b>
              $spy.NoSpherA2.make_quick_button_gui()
              </b>
            </tr>
          </table>
        </td>
      </tr>
    </table>
  </td>
</tr>

<tr ALIGN='left' NAME='SNUM_REFINEMENT_NSFF' width='100%'>
  <td valign='top' width="$GetVar(HtmlTableFirstcolWidth)" align='center' bgcolor="$GetVar(HtmlTableFirstcolColour)">
    $spy.MakeHoverButton('btn-info@NoSpherA2_Options_1#scope',"spy.make_help_box -name='NoSpherA2_Options_1' -popout='False' -helpTxt='#helpTxt'")
  </td>
  <td colspan="#colspan">
    <table border="0" width="100%" cellpadding="0" cellspacing="0" Xbgcolor="#ffaaaa">
      <tr Xbgcolor="#ffffaa">
        <td width='60%' align='left'>
          <table width='100%'cellpadding="0" cellspacing="2">
            <tr bgcolor="GetVar(HtmlTableGroupBgColour)">
              <td width="22%" align='left'>
                  <b>Basis Set </b>
              </td>
                <td width="28%">
                  $+
                    html.Snippet("gui/snippets/input-combo",
                    "name=NoSpherA2_basis@refine",
                    "items=spy.NoSpherA2.getBasisListStr()",
                    "value=spy.GetParam('snum.NoSpherA2.basis_name')",
                    "onchange=spy.NoSpherA2.change_basisset(html.GetValue('~name~'))")
                  $-
                </td>
                <td width="22%" align='right'>
                  <b>Method</b>
                </td>
                <td width="28%">
                  $+
                    html.Snippet("gui/snippets/input-combo",
                    "name=NoSpherA2_method@refine",
                    "items=spy.NoSpherA2.get_functional_list()",
                    "value=spy.GetParam('snum.NoSpherA2.method')",
                    "onchange=spy.SetParam('snum.NoSpherA2.method', html.GetValue('~name~'))")
                  $-
                </td>
            </tr>
          </table>
        <td width='40%' align='left'>
          <table width='100%'cellpadding="0" cellspacing="1" bgcolor="$GetVar(HtmlTableGroupBgColour)">
            <tr>
              <td width="10%" align='right'>
                <b>CPUs</b>
              </td>
              <td width="20%" align='center'>
                $+
                  html.Snippet("gui/snippets/input-combo",
                  "name=NoSpherA2_cpus@refine",
                  "items=spy.NoSpherA2.getCPUListStr()",
                  "value=spy.GetParam('snum.NoSpherA2.ncpus')",
                  "onchange=spy.SetParam('snum.NoSpherA2.ncpus', html.GetValue('~name~'))")
                $-
              </td>

              <td width="10%" align='right'>
                <b>Mem(Gb) </b>
              </td>
              <td width="20%" align='center'>
                $+
                  html.Snippet("gui/snippets/input-text",
                  "name=NoSpherA2_mem",
                  "value=spy.GetParam('snum.NoSpherA2.mem')",
                  "onchange=spy.SetParam('snum.NoSpherA2.mem', html.GetValue('~name~'))")
                $-
              </td>
            </tr>
          </table>
      </td>
      </tr>
    </table>
  </td>
</tr>


<tr ALIGN='left' NAME='SNUM_REFINEMENT_NSFF' width='100%'>
  <td valign='top' width="$GetVar(HtmlTableFirstcolWidth)" align='center' bgcolor="$GetVar(HtmlTableFirstcolColour)">
    $spy.MakeHoverButton('btn-info@NoSpherA2_Options_2#scope',"spy.make_help_box -name='NoSpherA2_Options_2' -popout='False' -helpTxt='#helpTxt'")
  </td>
  <td colspan="#colspan">
    <table border="0" width="100%" cellpadding="0" cellspacing="0" Xbgcolor="#ffaaaa">
      <tr Xbgcolor="#ffffaa">
        <td width='#width%' align='left'>
          <table width='100%'cellpadding="0" cellspacing="2">
            <tr bgcolor="GetVar(HtmlTableGroupBgColour)">
              <td width="13%" align='left'>
              <b>Charge </b>
              </td>
              <td width='8%' align='left'>
              <input
                type="spin"
                name="SET_CHARGE"
                width="50"
                height="17"
                max='1000'
                min='-1000'
                bgcolor="spy.GetParam(gui.html.input_bg_colour)"
                value='$spy.GetParam(snum.NoSpherA2.charge)'
                onchange='spy.SetParam(snum.NoSpherA2.charge,html.GetValue(~name~))'
              >
              </td>
              <td width="16%" align='right'>
              <b>Multiplicity </b>
              </td>
              <td width='8%'>
                <input
                  type='spin',
                  width='50',
                  height="17"
                  bgcolor="spy.GetParam(gui.html.input_bg_colour)"
                  min='1'
                  name='SET_SNUM_MULTIPLICITY',
                  value='$spy.GetParam(snum.NoSpherA2.multiplicity)',
                  onchange="spy.SetParam(snum.NoSpherA2.multiplicity,html.GetValue(~name~))"
                >
              </td>
              <td width='2%' align="left">
              $+
                html.Snippet(
                  "gui/snippets/input-checkbox-td",
                  "name=Iterative",
                  "label=Iterative ",
                  "checked=spy.GetParam('snum.NoSpherA2.full_HAR')",
                  "oncheck=spy.NoSpherA2.toggle_full_HAR()",
                  "bgcolor=GetVar(HtmlTableFirstcolColour)",
                  "onuncheck=spy.NoSpherA2.toggle_full_HAR()"
                )
              $-
              </td>
<!-- ======= FULL HAR SWITCH ===================== -->
              <!-- #ignoreif strcmp(spy.GetParam('snum.NoSpherA2.full_HAR'),'False') -->
              <td width="18%">
              <b>Max Cycles </b>
              </td>
              <td width='8%' align='left'>
                <input
                  type='spin'
                  width='50'
                  height="17"
                  bgcolor="spy.GetParam(gui.html.input_bg_colour)"
                  name='SET_SNUM_MAX_HAR'
                  value='$spy.GetParam(snum.NoSpherA2.Max_HAR_Cycles)'
                  onchange='spy.SetParam(snum.NoSpherA2.Max_HAR_Cycles,html.GetValue(~name~))'
                >
              </td>
              <!-- ignoreif# -->
              <!-- #ignoreif strcmp(spy.GetParam('snum.NoSpherA2.full_HAR'),'True') -->
                $+
                  html.Snippet("gui/snippets/gui-link-button",
                  "value='Update .tsc & .wfn'",
                  "onclick=spy.NoSpherA2.launch() >> html.Update()",
                  "bgcolor=GetVar(HtmlTableFirstcolColour)",
                  "td1=<td width="29%" align='center'>",
                  )
                $-
              <!-- ignoreif# -->

<!-- ======= FULL HAR SWITCH END ===================== -->
            </tr>
          </table>
        </td>
      </tr>
    </table>
  </td>

</tr>
<tr ALIGN='left' NAME='SNUM_REFINEMENT_NSFF' width='100%'>
  <td valign='top' width="$GetVar(HtmlTableFirstcolWidth)" align='center' bgcolor="$GetVar(HtmlTableFirstcolColour)">
    $spy.MakeHoverButton('btn-info@NoSpherA2_Options_3#scope',"spy.make_help_box -name='NoSpherA2_Options_3' -popout='False' -helpTxt='#helpTxt'")
  </td>
  <td colspan="#colspan">
    <table border="0" width="100%" cellpadding="0" cellspacing="0" Xbgcolor="#ffaaaa">
      <tr Xbgcolor="#ffffaa">
        <td width='#width%' align='left'>
          <table width='100%'cellpadding="0" cellspacing="2">
            <tr bgcolor="GetVar(HtmlTableGroupBgColour)">
              <td width="13%" align='left'>
                  <b>Integr. Accuracy</b>
              </td>
            <!-- #ignoreif not strcmp(spy.GetParam('snum.NoSpherA2.NoSpherA2_SF'),'True') -->
              <td width="16%" align="left">
                $+
                  html.Snippet("gui/snippets/input-combo",
                  "name=NoSpherA2_becke_accuracy@refine",
                  "items='Low;Normal;High;Max'",
                  "value=spy.GetParam('snum.NoSpherA2.becke_accuracy')",
                  "onchange=spy.SetParam('snum.NoSpherA2.becke_accuracy', html.GetValue('~name~'))"
                  )
                $-
              </td>
            <!-- ignoreif# -->
              <td width='1%' align='left'>
                $+
                  html.Snippet("gui/snippets/input-checkbox-td",
                  "name=H_Aniso",
                  "label=H Aniso",
                  "checked=spy.GetParam('snum.NoSpherA2.h_aniso')",
                  "oncheck=spy.SetParam('snum.NoSpherA2.h_aniso','True')",
                  "bgcolor=GetVar(HtmlTableFirstcolColour)",
                  "onuncheck=spy.SetParam('snum.NoSpherA2.h_aniso','False')"
                  )
                $-
              </td>
              <td width='1%' align='left'>
                $+
                  html.Snippet("gui/snippets/input-checkbox-td",
                  "name=H_Afix",
                  "label=No Afix",
                  "checked=spy.GetParam('snum.NoSpherA2.h_afix')",
                  "oncheck=spy.SetParam('snum.NoSpherA2.h_afix','True')",
                  "bgcolor=GetVar(HtmlTableFirstcolColour)",
                  "onuncheck=spy.SetParam('snum.NoSpherA2.h_afix','False')"
                  )
                $-
              </td>

            </tr>
          </table>
        </td>
      </tr>
    </table>
  </td>

</tr>

<ignore test="not strcmp(spy.GetParam('user.NoSpherA2.show_ri_fit'),'False')">

  <tr ALIGN='left' NAME='SNUM_REFINEMENT_RIFIT' width='100%'></tr>

  <td valign='top' width="$GetVar(HtmlTableFirstcolWidth)" align='center' bgcolor="$GetVar(HtmlTableFirstcolColour)">
    $spy.MakeHoverButton('btn-info@NoSpherA2_Options_RIFit#scope',"spy.make_help_box -name='NoSpherA2_Options_RIFit' -popout='False' -helpTxt='#helpTxt'")
  </td>
  <td colspan="#colspan">
    <table border="0" width="100%" cellpadding="0" cellspacing="0" Xbgcolor="#ffaaaa">
      <tr Xbgcolor="#ffffaa">
        <td width='#width%' align='left'>
          <table width='100%'cellpadding="0" cellspacing="2">
            <tr bgcolor="GetVar(HtmlTableGroupBgColour)">
              $+
                html.Snippet("gui/snippets/input-checkbox-td",
                "name=Ri_Fit",
                "label=RI-Fit ",
                "checked=spy.GetParam('snum.NoSpherA2.NoSpherA2_RI_FIT')",
                "oncheck=spy.SetParam('snum.NoSpherA2.NoSpherA2_RI_FIT','True')>> html.Update()",
                "bgcolor=GetVar(HtmlTableFirstcolColour)",
                "onuncheck=spy.SetParam('snum.NoSpherA2.NoSpherA2_RI_FIT','False')>> html.Update()"
                )
              $-
  <!-- ======= RI-SWITCH ===================== -->

            <ignore test="not strcmp(spy.GetParam('snum.NoSpherA2.NoSpherA2_RI_FIT'), False)">
              <td width="30%">
              <b>Auxiliary Basis </b>
              </td>
              <td width="40%">
              $+
                html.Snippet("gui/snippets/input-combo",
                "name=NoSpherA2_ORCA_RIFIT@refine",
                "items='combo_basis_fit;def2_universal_jkfit;def2_svp_jkfit;hgbsp3_7;def2_qzvppd_rifit;tzvp_jkfit;cc-pvqz-jkfit'",
                "value=spy.GetParam('snum.NoSpherA2.auxiliary_basis')",
                "onchange=spy.SetParam('snum.NoSpherA2.auxiliary_basis', html.GetValue('~name~'))")
              $-
              </td>
            </ignore>

    <!-- ======= RI-SWITCH END ===================== -->
    <!-- THIS ONLY CREATES EMPTY SPACE TO FILL THE SPACE ON THE RIGHT -->
  </td>
  <td width="40%" align="left">
  <b> </b>
  </td>

      </tr>
    </table>
  </td>
  </tr>
  </table>
  </td>

  </tr>
</ignore>

<!-- ignoreif# -->